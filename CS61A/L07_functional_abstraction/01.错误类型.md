# Python中的错误(Errors)类型及处理

Python中的错误主要分为两大类：**语法错误(Syntax Errors)**和**异常(Exceptions)**。

## 一、语法错误(Syntax Errors)

语法错误是解析代码时发现的错误，程序会直接终止运行。

```python
# 示例1：缺少冒号
if True
    print("Hello")  # SyntaxError: expected ':'

# 示例2：错误缩进
def foo():
print("Bar")  # IndentationError: expected an indented block
```

## 二、异常(Exceptions)

即使语法正确，运行时也可能发生异常。Python有许多内置异常类型：

### 常见内置异常

1. **ValueError** - 值错误
```python
int("abc")  # ValueError: invalid literal for int() with base 10: 'abc'
```

2. **TypeError** - 类型错误
```python
"2" + 2  # TypeError: can only concatenate str (not "int") to str
```

3. **IndexError** - 索引错误
```python
lst = [1, 2]
print(lst[3])  # IndexError: list index out of range
```

4. **KeyError** - 键错误
```python
d = {"a": 1}
print(d["b"])  # KeyError: 'b'
```

5. **AttributeError** - 属性错误
```python
s = "hello"
s.append("!")  # AttributeError: 'str' object has no attribute 'append'
```

6. **ZeroDivisionError** - 除零错误
```python
1 / 0  # ZeroDivisionError: division by zero
```

7. **FileNotFoundError** - 文件未找到
```python
open("nonexistent.txt")  # FileNotFoundError: [Errno 2] No such file or directory
```

8. **ImportError** - 导入错误
```python
import non_existent_module  # ImportError: No module named 'non_existent_module'
```

## 三、异常处理

使用`try-except`块处理异常：

### 基本语法
```python
try:
    # 可能引发异常的代码
except ErrorType:
    # 异常处理代码
```

### 示例
```python
try:
    num = int(input("输入数字: "))
    print(10 / num)
except ValueError:
    print("请输入有效数字!")
except ZeroDivisionError:
    print("不能除以零!")
except Exception as e:  # 捕获所有异常
    print(f"发生错误: {e}")
else:
    print("没有异常发生时执行")
finally:
    print("无论是否异常都会执行")
```

## 四、自定义异常

可以创建自己的异常类型：

```python
class MyCustomError(Exception):
    pass

try:
    raise MyCustomError("这是我的自定义错误")
except MyCustomError as e:
    print(f"捕获自定义异常: {e}")
```

## 五、最佳实践

1. 尽量捕获特定异常，而不是笼统的`Exception`
2. 在`except`块中提供有意义的错误处理或日志记录
3. 使用`finally`释放资源（如文件、网络连接）
4. 合理使用`else`子句处理无异常情况
5. 自定义异常应继承自`Exception`基类

理解Python的错误处理机制对于编写健壮的应用程序至关重要，它能帮助开发者优雅地处理意外情况，而不是让程序直接崩溃。