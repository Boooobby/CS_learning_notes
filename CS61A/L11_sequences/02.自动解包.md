# Python 中的自动解包（Unpacking）

自动解包是 Python 中一种非常实用的特性，它允许你将可迭代对象（如列表、元组等）的元素自动解包并赋值给多个变量。

## 基本解包操作

### 1. 元组/列表解包

```python
# 基本元组解包
point = (3, 5)
x, y = point  # 自动解包
print(x)  # 输出: 3
print(y)  # 输出: 5

# 列表同样适用
colors = ['red', 'green', 'blue']
r, g, b = colors
```

### 2. 交换变量值

解包特性可以优雅地交换两个变量的值：

```python
a = 10
b = 20
a, b = b, a  # 交换变量值
print(a)  # 20
print(b)  # 10
```

## 高级解包技巧

### 1. 使用星号(*)收集多余元素

```python
numbers = [1, 2, 3, 4, 5]
first, *middle, last = numbers
print(first)   # 1
print(middle)  # [2, 3, 4]
print(last)    # 5
```

### 2. 嵌套解包

```python
data = ('Alice', 'alice@example.com', ('555-1234', '555-5678'))
name, email, (phone1, phone2) = data
```

### 3. 解包字典

```python
person = {'name': 'Bob', 'age': 25}
name, age = person.values()
print(name)  # Bob
print(age)   # 25
```

### 4. 函数参数解包

#### 使用 * 解包可迭代对象作为位置参数

```python
def func(a, b, c):
    return a + b + c

args = [1, 2, 3]
print(func(*args))  # 输出: 6
```

#### 使用 ** 解包字典作为关键字参数

```python
def greet(name, message):
    return f"{message}, {name}!"

params = {'name': 'Alice', 'message': 'Hello'}
print(greet(**params))  # 输出: "Hello, Alice!"
```

## 解包的应用场景

1. **函数返回多个值**：
   ```python
   def get_stats(numbers):
       return min(numbers), max(numbers), sum(numbers)/len(numbers)
   
   min_val, max_val, avg_val = get_stats([1, 2, 3, 4, 5])
   ```

2. **处理变长参数**：
   ```python
   def print_args(*args, **kwargs):
       print("位置参数:", args)
       print("关键字参数:", kwargs)
   
   print_args(1, 2, 3, a=4, b=5)
   ```

3. **合并字典（Python 3.5+）**：
   ```python
   dict1 = {'a': 1, 'b': 2}
   dict2 = {'b': 3, 'c': 4}
   merged = {**dict1, **dict2}  # {'a': 1, 'b': 3, 'c': 4}
   ```

## 注意事项

1. 解包时变量数量必须与元素数量匹配（除非使用 * 收集）：
   ```python
   # 会引发 ValueError
   x, y = (1, 2, 3)
   ```

2. 星号(*)表达式在单个解包中只能使用一次：
   ```python
   # 非法
   first, *middle, *rest = [1, 2, 3, 4, 5]
   ```

3. 字典解包时，键必须与函数参数名匹配。

自动解包是 Python 中提高代码简洁性和可读性的强大工具，合理使用可以大大简化代码。