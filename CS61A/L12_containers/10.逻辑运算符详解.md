# Python 逻辑运算符详解

Python 中的逻辑运算符包括 `and`、`or` 和 `not`。它们不仅用于布尔运算，还有一些独特的特性。下面我将详细介绍这些运算符的行为和使用场景。

## 1. 基本逻辑运算符

### 1.1 `and` 运算符
- **功能**：逻辑与运算
- **行为**：
  - 从左到右依次求值
  - 如果所有值都为真(truthy)，返回最后一个值
  - 如果遇到假值(falsy)，立即返回该假值（短路行为）
  
**示例**：
```python
print(True and 5)     # 输出 5
print(5 and 10)       # 输出 10
print(0 and 10)       # 输出 0 (短路)
print([] and "hello") # 输出 [] (短路)
```

### 1.2 `or` 运算符
- **功能**：逻辑或运算
- **行为**：
  - 从左到右依次求值
  - 返回第一个为真的值
  - 如果所有值都为假，返回最后一个假值
  
**示例**：
```python
print(False or 5)     # 输出 5
print(0 or 10)        # 输出 10
print(5 or 10)        # 输出 5 (短路)
print("" or [])       # 输出 [] (所有值都为假)
```

### 1.3 `not` 运算符
- **功能**：逻辑非运算
- **行为**：
  - 总是返回布尔值(True或False)
  - 对操作数进行布尔求反
  
**示例**：
```python
print(not True)   # 输出 False
print(not 0)      # 输出 True
print(not "abc")  # 输出 False
```

## 2. 真值(Truthy)和假值(Falsy)

Python中以下值被视为假值：
- `False`
- `None`
- 数值0（包括0.0等）
- 空序列：`""`, `[]`, `()`, `{}`, `set()`
- 自定义类中定义了`__bool__()`或`__len__()`方法返回False或0的对象

其他所有值都被视为真值。

## 3. 短路求值(Short-circuiting)

`and`和`or`运算符具有短路特性：
- `and`：遇到第一个假值就停止计算
- `or`：遇到第一个真值就停止计算

**示例**：
```python
def test():
    print("函数被调用")
    return True

print(False and test())  # 不会调用test()
print(True or test())    # 不会调用test()
```

## 4. 运算符优先级

逻辑运算符的优先级：
1. `not` 最高
2. `and` 中等
3. `or` 最低

**示例**：
```python
print(not False and True)  # 等价于 (not False) and True → True
print(False or True and False)  # 等价于 False or (True and False) → False
```

## 5. 实用技巧

### 5.1 默认值赋值
```python
name = user_input or "默认名字"
```

### 5.2 安全访问属性
```python
value = obj and obj.attr and obj.attr.method()
```

### 5.3 条件执行
```python
condition and do_something()  # 只有condition为真时才执行
```

## 6. 与位运算符的区别

不要混淆逻辑运算符和位运算符：
- 逻辑运算符：`and`, `or`, `not`
- 位运算符：`&`, `|`, `~`, `^`

**示例对比**：
```python
print(True & False)  # 位与 → False (0)
print(True and False)  # 逻辑与 → False
```

## 7. 注意事项

1. `and`和`or`返回的是操作数的值，不是强制转换为布尔值
2. 在条件判断中，Python会自动进行真值测试
3. 复杂的逻辑表达式建议使用括号明确优先级
4. 避免过度使用嵌套的逻辑表达式，影响可读性

## 8. 实际应用示例

### 8.1 验证多个条件
```python
age = 25
name = "Alice"

if name and age >= 18:
    print("允许进入")
```

### 8.2 设置默认值
```python
config = {}
timeout = config.get("timeout") or 30
```

### 8.3 链式检查
```python
user = None
username = user and user.name or "匿名"
```

理解Python逻辑运算符的这些特性可以帮助你写出更简洁、更Pythonic的代码。