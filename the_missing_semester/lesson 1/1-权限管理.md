在 Linux/Unix 系统中，文件和目录的 **读（Read）、写（Write）、执行（Execute）权限** 是权限管理的核心概念，通过 `chmod` 命令设置，用 `ls -l` 查看。以下是详细解析：

---

### **1. 权限符号表示**
使用 `ls -l` 查看时，权限显示为 **10个字符**（如 `-rwxr-xr--`）：
```bash
-rwxr-xr-- 1 user group 4096 Jan 1 10:00 file.txt
drwxr-xr-x 2 user group 4096 Jan 1 10:00 dir/
```
- **第1个字符**：文件类型（`-`=文件，`d`=目录，`l`=链接等）。  
- **后9个字符**：分3组，分别对应 **用户（Owner）**、**用户组（Group）**、**其他用户（Others）** 的权限。  
  - 每组顺序固定：`r`（读）、`w`（写）、`x`（执行），无权限用 `-` 表示。

#### **权限符号对照表**
| 符号 | 权限   | 文件含义                     | 目录含义                     |
|------|--------|------------------------------|------------------------------|
| `r`  | 读     | 可查看文件内容               | 可列出目录下的文件（如 `ls`） |
| `w`  | 写     | 可修改文件内容               | 可增删/重命名目录内的文件    |
| `x`  | 执行   | 可运行（如脚本、程序）       | 可进入目录（如 `cd`）        |

---

### **2. 权限数字表示（八进制）**
每个权限组可用 **3位二进制数**（`rwx`=`111`）转换为 **1位八进制数**（0-7）：  
| 权限组合 | 二进制 | 八进制 | 示例（`chmod`）      |
|----------|--------|--------|----------------------|
| `---`    | 000    | 0      | `chmod 0 file`       |
| `--x`    | 001    | 1      | `chmod 1 file`       |
| `-w-`    | 010    | 2      | `chmod 2 file`       |
| `-wx`    | 011    | 3      | `chmod 3 file`       |
| `r--`    | 100    | 4      | `chmod 4 file`       |
| `r-x`    | 101    | 5      | `chmod 5 file`       |
| `rw-`    | 110    | 6      | `chmod 6 file`       |
| `rwx`    | 111    | 7      | `chmod 7 file`       |

#### **常用权限数字**
- `755`：用户可读/写/执行，组和其他可读/执行（常用于目录和可执行文件）。  
  ```bash
  chmod 755 script.sh
  ```
- `644`：用户可读/写，组和其他只读（常用于普通文件）。  
  ```bash
  chmod 644 config.txt
  ```
- `700`：仅用户可读/写/执行，其他用户无权限（私有文件）。  
  ```bash
  chmod 700 ~/.ssh/
  ```

---

### **3. 权限对文件和目录的不同影响**
#### **文件（如 `file.txt`）**
| 权限 | 操作示例                  | 说明                             |
|------|---------------------------|----------------------------------|
| `r`  | `cat file.txt`            | 读取文件内容                     |
| `w`  | `echo "hi" > file.txt`    | 修改或清空文件（需目录的 `w` 权限） |
| `x`  | `./script.sh`             | 执行文件（需文件本身有 `x` 权限）  |

#### **目录（如 `dir/`）**
| 权限 | 操作示例                  | 说明                             |
|------|---------------------------|----------------------------------|
| `r`  | `ls dir/`                 | 列出目录内容（需 `x` 权限配合）   |
| `w`  | `touch dir/newfile`       | 创建/删除文件（需 `x` 权限配合）  |
| `x`  | `cd dir/`                 | 进入目录或访问子文件             |

> 📌 **关键区别**：目录的 `x` 权限是“访问”权限，没有它，`r` 和 `w` 权限无效！

---

### **4. 特殊权限**
| 符号 | 数字 | 作用                          | 示例                     |
|------|------|-------------------------------|--------------------------|
| `s`（SUID） | 4000 | 文件运行时以所有者权限执行     | `chmod u+s /usr/bin/passwd` |
| `s`（SGID） | 2000 | 目录下新建文件继承组权限       | `chmod g+s /shared_dir`    |
| `t`（Sticky Bit） | 1000 | 仅文件所有者可删除自己的文件   | `chmod +t /tmp`            |

---

### **5. 权限管理命令**
#### **(1) 修改权限（`chmod`）**
```bash
chmod u+x file.sh    # 给用户添加执行权限
chmod g-w file.txt   # 移除用户组的写权限
chmod o=r file.txt   # 其他用户仅保留读权限
chmod -R 755 dir/    # 递归修改目录及其内容
```

#### **(2) 修改所有者（`chown`）**
```bash
chown user:group file.txt  # 修改文件的所有者和组
chown -R user:group dir/   # 递归修改目录
```

#### **(3) 修改所属组（`chgrp`）**
```bash
chgrp developers file.txt  # 将文件组改为 developers
```

---

### **6. 常见问题**
#### **Q1: 为什么目录需要 `x` 权限才能访问？**  
- 没有 `x` 权限，目录只是一个“路牌”，无法进入或操作内部文件（即使有 `r` 或 `w` 权限）。

#### **Q2: 删除文件需要什么权限？**  
- 需要文件所在目录的 `w` 和 `x` 权限（文件自身的权限无关）。

#### **Q3: `777` 权限安全吗？**  
- 不安全！`777` 表示所有用户可读/写/执行，可能导致数据泄露或篡改（应限制为 `755` 或 `750`）。

---

### **7. 总结表**
| 权限 | 文件作用           | 目录作用           | 建议场景               |
|------|--------------------|--------------------|------------------------|
| `r`  | 读取内容           | 列出内容           | 配置文件、文档         |
| `w`  | 修改内容           | 增删文件           | 需编辑的文件或目录     |
| `x`  | 执行程序/脚本      | 进入目录           | 可执行文件、项目目录   |

掌握权限管理是 Linux 系统安全的基础！ 🔐