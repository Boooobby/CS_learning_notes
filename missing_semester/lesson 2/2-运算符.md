在 Linux Shell 中，运算符分为 **逻辑运算符** 和 **数值运算符**，它们在条件判断、算术运算和流程控制中起关键作用。以下是详细分类和用法：

---

## **1. 数值运算符**
### **(1) 算术运算符**
用于整数运算（需用 `$(( ))` 或 `let` 包裹）：

| 运算符 | 作用          | 示例                     | 结果          |
|--------|---------------|--------------------------|---------------|
| `+`    | 加法          | `echo $((5 + 3))`        | `8`           |
| `-`    | 减法          | `echo $((10 - 2))`       | `8`           |
| `*`    | 乘法          | `echo $((2 * 4))`        | `8`           |
| `/`    | 除法（取整）  | `echo $((9 / 2))`        | `4`           |
| `%`    | 取模          | `echo $((10 % 3))`       | `1`           |
| `**`   | 幂运算（Bash）| `echo $((2 ** 3))`       | `8`           |
| `++`   | 自增          | `x=1; echo $((x++))`     | `1`（后自增） |
| `--`   | 自减          | `x=2; echo $((--x))`     | `1`（前自减） |

**示例**：
```bash
sum=$(( 10 + 5 ))      # 15
let "sum *= 2"         # 30（等价于 sum=$(( sum * 2 ))）
```

### **(2) 位运算符**
| 运算符 | 作用          | 示例                     | 结果  |
|--------|---------------|--------------------------|-------|
| `&`    | 按位与        | `echo $((5 & 3))`        | `1`   |
| `\|`   | 按位或        | `echo $((5 \| 3))`       | `7`   |
| `^`    | 按位异或      | `echo $((5 ^ 3))`        | `6`   |
| `~`    | 按位取反      | `echo $(( ~5 ))`         | `-6`  |
| `<<`   | 左移          | `echo $((4 << 1))`       | `8`   |
| `>>`   | 右移          | `echo $((8 >> 1))`       | `4`   |

---

## **2. 逻辑运算符**
### **(1) 逻辑与/或（用于条件判断）**
| 运算符 | 作用                  | 示例                          | 说明                          |
|--------|-----------------------|-------------------------------|-------------------------------|
| `&&`   | 逻辑与（AND）         | `[ -f file ] && echo "存在"`  | 前一条成功才执行后一条        |
| `\|\|` | 逻辑或（OR）          | `[ -d dir ] \|\| mkdir dir`   | 前一条失败才执行后一条        |
| `!`    | 逻辑非（NOT）         | `if ! [ -x file ]; then ...`  | 反转条件结果                  |

**示例**：
```bash
[ "$age" -ge 18 ] && echo "Adult" || echo "Minor"  # 条件判断简化
```

### **(2) 测试表达式中的逻辑组合**
在 `[ ]` 或 `[[ ]]` 中：
| 运算符 | 作用          | 示例                                      |
|--------|---------------|-------------------------------------------|
| `-a`   | 与（AND）     | `[ -f file -a -r file ]`（文件存在且可读）|
| `-o`   | 或（OR）      | `[ -z "$var" -o "$var" = "yes" ]`        |
| `!`    | 非（NOT）     | `[ ! -d dir ]`                            |

**注意**：`-a`/`-o` 在 `[ ]` 中使用，而 `[[ ]]` 推荐用 `&&`/`||`。

---

## **3. 比较运算符**
### **(1) 数值比较**
| 运算符 | 作用                | 示例                     |
|--------|---------------------|--------------------------|
| `-eq`  | 等于（Equal）       | `[ "$a" -eq 5 ]`         |
| `-ne`  | 不等于（Not Equal） | `[ "$a" -ne 0 ]`         |
| `-gt`  | 大于（Greater Than）| `[ "$a" -gt 10 ]`        |
| `-ge`  | 大于等于            | `[ "$a" -ge 100 ]`       |
| `-lt`  | 小于（Less Than）   | `[ "$a" -lt 3 ]`         |
| `-le`  | 小于等于            | `[ "$a" -le 1 ]`         |

### **(2) 字符串比较**
| 运算符 | 作用                | 示例                          |
|--------|---------------------|-------------------------------|
| `=`    | 等于                | `[ "$str" = "hello" ]`        |
| `!=`   | 不等于              | `[ "$str" != "world" ]`       |
| `-z`   | 为空（Zero Length） | `[ -z "$str" ]`               |
| `-n`   | 非空                | `[ -n "$str" ]`               |
| `<`    | 字典序小于          | `[[ "a" < "b" ]]`（需 `[[ ]]`）|
| `>`    | 字典序大于          | `[[ "x" > "y" ]]`             |

---

## **4. 文件测试运算符**
| 运算符 | 作用                      | 示例                     |
|--------|---------------------------|--------------------------|
| `-e`   | 文件/目录是否存在         | `[ -e "/path" ]`         |
| `-f`   | 是普通文件                | `[ -f file.txt ]`        |
| `-d`   | 是目录                    | `[ -d "/tmp" ]`          |
| `-r`   | 可读                      | `[ -r file ]`            |
| `-w`   | 可写                      | `[ -w file ]`            |
| `-x`   | 可执行                    | `[ -x script.sh ]`       |
| `-s`   | 文件非空                  | `[ -s log.txt ]`         |
| `-L`   | 是符号链接                | `[ -L /path/link ]`      |

---

## **5. 复合运算符**
### **(1) 算术复合赋值**
| 运算符 | 等价于         | 示例             |
|--------|----------------|------------------|
| `+=`   | `a=$((a + 1))` | `let "a += 1"`   |
| `-=`   | `a=$((a - 1))` | `let "a -= 1"`   |
| `*=`   | `a=$((a * 2))` | `let "a *= 2"`   |
| `/=`   | `a=$((a / 2))` | `let "a /= 2"`   |

### **(2) 条件组合**
```bash
# 使用 [[ ]] 更安全（支持 &&/||）
if [[ "$age" -gt 18 && "$name" = "Alice" ]]; then
    echo "Adult Alice"
fi
```

---

## **6. 优先级规则**
1. **括号 `( )`** > **算术运算符** > **逻辑运算符**  
   ```bash
   echo $(( (1 + 2) * 3 ))  # 先算括号内，结果为 9
   ```
2. 逻辑运算符优先级：`!` > `&&` > `||`

---

## **7. 示例脚本**
```bash
#!/bin/bash
# 数值运算 + 逻辑判断
a=10
b=5

if [ "$a" -gt "$b" ] && [ "$a" -ne 0 ]; then
    echo "$a is greater than $b and not zero."
fi

# 计算阶乘
factorial=1
for ((i=1; i<=5; i++)); do
    factorial=$(( factorial * i ))
done
echo "5! = $factorial"
```

---

## **总结表**
| 类型       | 常用运算符                     | 适用场景                  |
|------------|--------------------------------|--------------------------|
| 算术       | `+ - * / % **`                | 数值计算                 |
| 逻辑       | `&& \|\| !`                   | 条件组合                 |
| 比较       | `-eq -ne -gt -lt = !=`        | 数值/字符串比较          |
| 文件测试   | `-e -f -d -r -w`              | 文件属性检查             |
| 位运算     | `& \| ^ ~ << >>`              | 二进制操作               |

掌握这些运算符后，可以高效编写 Shell 脚本，处理复杂的逻辑和计算任务！