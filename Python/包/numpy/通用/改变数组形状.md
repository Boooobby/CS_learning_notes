在 `NumPy` 中，修改 `ndarray` 的形状是一个非常常见的操作。通过改变数组的形状，可以方便地调整数据的维度或排列方式，而无需改变其数据内容。以下是几种常见的修改 `ndarray` 形状的方法。

### 1. **`reshape()`**
`reshape()` 函数可以改变数组的形状，但返回一个新的数组。它不会改变原始数组的数据。

#### 语法
```python
ndarray.reshape(shape)
```
- **shape**：新的形状，可以是整数（表示一维）或元组（表示多维）。

#### 示例
```python
import numpy as np

arr = np.array([1, 2, 3, 4, 5, 6])
reshaped = arr.reshape(2, 3)
print(reshaped)
# 输出:
# [[1 2 3]
#  [4 5 6]]
```

- 在这个例子中，原始数组有 6 个元素，将其重塑为一个 2x3 的二维数组。

### 2. **`resize()`**
`resize()` 函数会直接修改原始数组的形状，如果新形状比原数组小，超出部分会被丢弃。如果新形状比原数组大，多出来的部分会被填充（默认为 0）。

#### 语法
```python
ndarray.resize(new_shape)
```
- **new_shape**：新的形状。

#### 示例
```python
arr = np.array([1, 2, 3, 4, 5, 6])
arr.resize(2, 3)
print(arr)
# 输出:
# [[1 2 3]
#  [4 5 6]]
```

- `resize()` 会修改原始数组，而不像 `reshape()` 那样返回一个新数组。

### 3. **`flatten()`**
`flatten()` 将多维数组展平为一维数组。它返回一个新的数组，而不会修改原始数组。

#### 语法
```python
ndarray.flatten(order='C')
```
- **order**：可选参数，表示展平的顺序：
  - `'C'`（默认）：按行优先顺序（C 风格）。
  - `'F'`：按列优先顺序（Fortran 风格）。

#### 示例
```python
arr = np.array([[1, 2], [3, 4], [5, 6]])
flattened = arr.flatten()
print(flattened)
# 输出: [1 2 3 4 5 6]
```

- `flatten()` 展平了二维数组，返回了一维数组。

### 4. **`ravel()`**
`ravel()` 类似于 `flatten()`，它会返回数组的扁平化版本，但与 `flatten()` 不同的是，`ravel()` 返回的是原数组的视图（如果可能的话），而不是副本。这意味着如果你修改 `ravel()` 返回的数组，原始数组也会发生变化。

#### 语法
```python
ndarray.ravel(order='C')
```

#### 示例
```python
arr = np.array([[1, 2], [3, 4], [5, 6]])
raveled = arr.ravel()
print(raveled)
# 输出: [1 2 3 4 5 6]
```

- `ravel()` 返回的是展平后的数组，但它是原始数组的视图（如果没有必要的话）。

### 5. **`transpose()`**
`transpose()` 通过交换数组的轴来改变数组的形状（常用于二维数组的行列交换）。对于多维数组，`transpose()` 可以交换各个轴。

#### 语法
```python
ndarray.transpose(*axes)
```
- **axes**：一个整数元组，表示轴的顺序。例如，`(0, 1)` 表示不改变顺序，`(1, 0)` 表示交换行和列。

#### 示例
```python
arr = np.array([[1, 2], [3, 4], [5, 6]])
transposed = arr.transpose()
print(transposed)
# 输出:
# [[1 3 5]
#  [2 4 6]]
```

- `transpose()` 交换了行和列。对于二维数组，相当于矩阵的转置。

### 6. **`swapaxes()`**
`swapaxes()` 用于交换两个轴，适用于多维数组，可以用来交换任意两个轴的顺序。

#### 语法
```python
ndarray.swapaxes(axis1, axis2)
```
- **axis1, axis2**：需要交换的轴。

#### 示例
```python
arr = np.array([[[1, 2], [3, 4]], [[5, 6], [7, 8]]])
swapped = arr.swapaxes(0, 1)
print(swapped)
# 输出:
# [[[1 2]
#   [5 6]]
#  
#  [[3 4]
#   [7 8]]]
```

- `swapaxes()` 交换了数组的第 0 轴和第 1 轴，改变了数组的结构。

### 7. **`expand_dims()`**
`expand_dims()` 用于在指定位置增加一个新的轴，从而改变数组的形状。通常用于将一维数组转换为二维数组，或者将二维数组转换为三维数组等。

#### 语法
```python
np.expand_dims(arr, axis)
```
- **axis**：指定增加维度的轴位置。

#### 示例
```python
arr = np.array([1, 2, 3])
expanded = np.expand_dims(arr, axis=0)  # 在第 0 轴增加一个维度
print(expanded)
# 输出: [[1 2 3]]

expanded_2 = np.expand_dims(arr, axis=1)  # 在第 1 轴增加一个维度
print(expanded_2)
# 输出:
# [[1]
#  [2]
#  [3]]
```

- `expand_dims()` 在指定轴位置增加一个新维度，将一维数组变成二维数组，或者将二维数组变成三维数组。

### 8. **`squeeze()`**
`squeeze()` 用于去除数组中单一的维度，即维度为 1 的轴。

#### 语法
```python
ndarray.squeeze(axis=None)
```
- **axis**：可选，指定需要去除的轴。如果不指定，默认去除所有维度为 1 的轴。

#### 示例
```python
arr = np.array([[[1], [2], [3]]])
squeezed = arr.squeeze()
print(squeezed)
# 输出:
# [1 2 3]
```

- `squeeze()` 去掉了维度为 1 的轴，原来的 3D 数组变成了 1D 数组。

---

### 总结
- `reshape()`：改变数组的形状，返回新数组。
- `resize()`：直接修改数组形状，可能会填充或丢弃数据。
- `flatten()` 和 `ravel()`：将多维数组展平为一维，`ravel()` 返回视图。
- `transpose()` 和 `swapaxes()`：交换数组的轴。
- `expand_dims()` 和 `squeeze()`：增加或去除维度。

这些方法是 `NumPy` 中常用的修改数组形状的工具，可以方便地在数据处理中调整数组的结构，满足不同的操作需求。